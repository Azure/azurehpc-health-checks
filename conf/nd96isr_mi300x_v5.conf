# NHC Configuration File
#
# Lines are in the form "<hostmask>||<check>"
# Hostmask is a glob, /regexp/, or {noderange}
# Comments begin with '#'
#
# This file was automatically generated by nhc-genconf
# Tue Jan 23 20:10:43 UTC 2024
#

#######################################################################
###
### NHC Configuration Variables
###
# *|| export MARK_OFFLINE=1 NHC_CHECK_ALL=0


#######################################################################
###
### Hardware checks
###
 *|| check_hw_cpuinfo 2 96 96
 *|| check_hw_physmem 1915059MB 1915059MB 7%
 *|| check_hw_swap 0kB 0kB 3%
 *|| check_hw_ib 400 mlx5_ib0:1
 *|| check_hw_ib 400 mlx5_ib1:1
 *|| check_hw_ib 400 mlx5_ib2:1
 *|| check_hw_ib 400 mlx5_ib3:1
 *|| check_hw_ib 400 mlx5_ib4:1
 *|| check_hw_ib 400 mlx5_ib5:1
 *|| check_hw_ib 400 mlx5_ib6:1
 *|| check_hw_ib 400 mlx5_ib7:1
 *|| check_hw_eth lo
 *|| check_hw_eth eth0
 *|| check_hw_eth ib0
 *|| check_hw_eth ib1
 *|| check_hw_eth ib2
 *|| check_hw_eth ib3
 *|| check_hw_eth ib4
 *|| check_hw_eth ib5
 *|| check_hw_eth ib6
 *|| check_hw_eth ib7


########################################################
####
#### GPU checks
####
  * || check_gpu_count 8 rocm
  * || check_gpu_bw 48 44
  * || check_rccl_allreduce 314 1 16G

#######################################################################
####
#### Additional IB checks
 * || check_ib_bw_non_gdr 390
 * || check_ib_link_flapping 24
